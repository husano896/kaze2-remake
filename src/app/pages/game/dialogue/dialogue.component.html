<div class="container flex-column full-height gap" style="contain: content;">
    <!-- 龍與背景-->
    <div id="bg" #bg>
        <div class="full-width full-height flex-row" style="justify-content: center;">
            <div class="dragon-cg-container"  [ngStyle]="{
                width: dragonCg2 && opacity2 ? '100%' : '0%', 
                display: dragonCg2 ? 'flex' : 'none',
                opacity: opacity2}" >
                <img #dragoncgA id="dragoncgA" class="dragoncg" alt="dragon-cg" style="object-position: center;"
                    src="/assets/imgs/dragon/{{dragonCg2}}.gif" />
                @if (emoji2) {
                <img alt="dragon-emoji" src="/assets/imgs/mark_{{emoji2}}.gif"
                    style="position: absolute; right:15%; top: 15%;" />
                }
            </div>
            <div class="dragon-cg-container"  [ngStyle]="{
                    width: dragonCg && opacity ? '100%' : '0%', 
                    display: dragonCg ? 'flex' : 'none', 
                    opacity: opacity}" >
                <img #dragoncg id="dragoncg" class="dragoncg" alt="dragon-cg" style="object-position: center;"
                    src="/assets/imgs/dragon/{{dragonCg}}.gif" />
                @if (emoji) {
                <img alt="dragon-emoji" src="/assets/imgs/mark_{{emoji}}.gif"
                    style="position: absolute; right:15%; top: 15%;" />
                }
            </div>


        </div>
        <div id="Ray2">
            <img alt="face" [src]="faceSrc || ''" />
        </div>
    </div>

    <!-- 臉 -->
    <!-- 對話框 -->
    <div class="flex-column full-width padding-large"
        style="height: 100%; contain: content; overflow: auto;padding-bottom: 16px;">
        <div id="dialog" #dialog class="boxed-content game-bg full-width padding-large full-height" style="opacity: 0;"
            (click)="FastForward()" (keyPress)="FastForward()">
            {{content}}
        </div>
        <!-- 提示玩家該繼續點擊的圖示-->
        <span id="continue-icon" class="large-font"
            [ngClass]="{waiting:isWaiting() && dialog.innerText.length > 0 && !contentCompleted}">▼</span>
        <a id="skip" (click)="onSkipClick()" [ngClass]="{disabled: !skipCallBack}">SKIP</a>
    </div>

    <!-- 劇情使用：黑白棋小遊戲 -->
    @if (enableChessGame) {
    <div id="chess-game-container" [ngClass]="{active: !chessGameStart && chessGameActive , start: chessGameStart}"
        style="position: absolute; width: 100%; height: 100%; top: 0;left: 0; z-index: 1; display: flex; align-items: center; justify-content: center;">
        <app-chess-game [gameStart]="chessGameStart"></app-chess-game>
    </div>
    }
    <!-- 劇情使用：貪吃蛇鬼抓人 -->
</div>